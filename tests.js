cards_json = [
    {"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"spell","subtype":"quick-play","title":"Blind Spot Strike ","description":"Select 1 face-up Defense Position monster your opponent controls and 1 face-up Attack Position monster you control. The monster you control gains ATK equal to the opponent's monster's DEF, until the End Phase.","card_number":"DREV-EN045","rarity":"common", "picture":""} //Spell
    ,{"type":"trap","subtype":"continuous","title":"Desperate Tag ","description":"If a face-up Attack Position monster you control is destroyed by battle, during damage calculation, you can reduce the Battle Damage from this battle to 0 and Special Summon 1 Level 4 or lower Warrior-Type monster from your hand at the end of the Damage Step.","card_number":"DREV-EN063","rarity":"common", "picture":""} //Trap
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"spell","subtype":"quick-play","title":"Blind Spot Strike ","description":"Select 1 face-up Defense Position monster your opponent controls and 1 face-up Attack Position monster you control. The monster you control gains ATK equal to the opponent's monster's DEF, until the End Phase.","card_number":"DREV-EN045","rarity":"common", "picture":""} //Spell
    ,{"type":"trap","subtype":"continuous","title":"Desperate Tag ","description":"If a face-up Attack Position monster you control is destroyed by battle, during damage calculation, you can reduce the Battle Damage from this battle to 0 and Special Summon 1 Level 4 or lower Warrior-Type monster from your hand at the end of the Damage Step.","card_number":"DREV-EN063","rarity":"common", "picture":""} //Trap
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
    ,{"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""} //Monster
];

QUnit.test("cards_creation", function( assert ){
    var monster_card = new MonsterCard({"type":"monster","subtype":"synchro","title":"Scrap Archfiend","description":"1 Tuner + 1 or more non-Tuner Monsters.","card_number":"DREV-EN000","rarity":"super-rare", "picture":""});

    assert.equal(monster_card.title,"Scrap Archfiend", 'The title of the card is ok');
    assert.equal(monster_card.type,Card.ECardType.MONSTER, 'Type of monster is ok')
});

QUnit.test( "board init", function( assert ) {
    //Create the board
    var b = new Board();

    debug.ignore_one_message();
    assert.notOk( b.register_player(), "Does not allow function call without a user" );

    //Register a new player
    var p1 = new Player('Reuel');
    debug.log("Trying to initialize a deck with " + cards_json.length + " cards");
    p1.init_deck(cards_json);
    assert.ok(b.register_player(p1,true), "Player A registered successfully");
    assert.ok(b.is_player_A(), "Player A is confirmed from the board");

    //Try to init the game before adding the second player
    assert.notOk(b.init(),'Failed to start the game');
    assert.notOk(b.is_initiated, 'Board status remains consistent');

    //Register the second player
    var p2 = new Player('Tom');
    p2.init_deck(cards_json);
    assert.ok(b.register_player(p2),  "Player B registered successfully");
    assert.ok(b.is_player_B(), "Player B is confirmed from the board");

    //Verify the amount of cards
    var player_A_cards_qtd = p1.deck_size();
    assert.ok(player_A_cards_qtd >= 40 && player_A_cards_qtd <= 60, 'Player A has the correct amount of cards to start the duel');

    var player_B_cards_qtd = b.player_B.deck_size();
    assert.ok(player_B_cards_qtd >= 40 && player_B_cards_qtd <= 60, 'Player B has the correct amount of cards to start the duel');

    //Try to initialize the game. After initialized, each player draw 5 cards
    assert.ok(b.init(),'Game successfully is_initiated');
    assert.ok(b.is_initiated,'Game board status changed successfully');

    //Verify for life points at the beginning
    var i_life_points_A = b.player_A.life_points;
    var i_expected = 8000;
    assert.equal(i_life_points_A, i_expected, "Player A life points are set correctly");

    var i_life_points_B = b.player_B.life_points;
    assert.equal(i_life_points_B, i_expected, "Player B life points are set correctly");

    //Check that each player has 5 cards on hand
    var i_card_on_hand_A = p1.hand_size();
    assert.equal(i_card_on_hand_A, 5, 'Player A does have the correct amount of cards on hand');

    var i_card_on_hand_B = p2.hand_size();
    assert.equal(i_card_on_hand_B, 5, 'Player B does have the correct amount of cards on hand');

});

